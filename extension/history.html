<html>
  <head>
    <link rel="stylesheet" type="text/css" href="styles/main.css"/>
    <title>Better History</title>
  </head>
  <body>
    <div class="main">
      <div class="navbar">
        <h1><em>Better</em> History</h1>
        <ul class="nav mainnav">
          <li class="item">
            <input id="search_input" type="search" placeholder="Search history">
          </li>
          <li class="item">
            <a href="#today">Today</a>
          </li>
          <li class="item">
            <a href="#yesterday">Yesterday</a>
          </li>
          <li class="item">
            <a href="#week">Past 7 days</a>
          </li>
        </ul>
      </div>
      <div class="mainview">
        <div class="views">
          <div id="today" class="view">
            <div class="heading">
              <h2>Today</h2>
            </div>
            <div class="content"></div>
          </div>
          <div id="yesterday" class="view">
            <div class="heading">
              <h2>Yesterday</h2>
            </div>
            <div class="content"></div>
          </div>
          <div id="week" class="view">
            <div class="heading">
              <h2>Past 7 days</h2>
            </div>
            <div class="content"></div>
          </div>
          <div id="search" class="view">
            <div class="heading">
              <h2>Search results</h2>
              <p class="note">Chrome's history search isn't the best. Hang tight friend, this will be a future focus</p>
            </div>
            <div class="content"></div>
          </div>
        </div>
      </div>
    </div>
    <script id="dateTemplate" type="text/x-jquery-tmpl">
      <section>
        <h3 class="date_interval">${date}</h3>
      </section>
    </script>
    <script id="timeTemplate" type="text/x-jquery-tmpl">
      <div>
        <h3 class="time_interval">${time}</h3>
      </div>
    </script>
    <script id="pageVisitTemplate" type="text/x-jquery-tmpl">
      <a href="${url}" class="page">
        <dl class="description" style="background-image: url(chrome://favicon/${url})">
          <dt class="title">${title}</dt>
          <dd class="url">${url}</dd>
        </dl>
      </a>
    </script>
    <script id="combineVisitsTemplate" type="text/x-jquery-tmpl">
      <a href="${url}" class="page">
        <dl class="description" style="background-image: url(chrome://favicon/${url})">
          <dt class="title">${domain}</dt>
          <dd class="url">${amount} Visits <span class="expand button">Expand</span></dd>
        </dl>
      </a>
    </script>
    <script id="expandedVisitsTemplate" type="text/x-jquery-tmpl">
      <div class="expanded"></div>
    </script>
    <script type="text/javascript" src="scripts/frameworks/jquery-1.6.2.min.js"></script>
    <script type="text/javascript" src="scripts/frameworks/jquery.stickysectionheaders.js"></script>
    <script type="text/javascript" src="scripts/frameworks/jquery.tmpl.min.js"></script>
    <script type="text/javascript" src="scripts/date_ranger.js"></script>
    <script type="text/javascript" src="scripts/chrome_history.js"></script>
    <script type="text/javascript" src="scripts/history_view.js"></script>
    <script type="text/javascript" src="scripts/history_item.js"></script>
    <script type="text/javascript" src="scripts/group_by.js"></script>
    <script type="text/javascript" src="scripts/menu.js"></script>
    <script type="text/javascript">
      var historyView = new HistoryView();
      var menu = new Menu('.mainnav');

      $('#search_input').keydown(function(ev) {
        historyView.load('search', {text: $(ev.currentTarget).val()});
      });

      $('.mainnav .item a').click(function(ev) {
        menu.select($(ev.currentTarget));
      });

      $('a[href=' + (window.location.hash || '#today') + ']').triggerHandler('click');
    </script>
  </body>
</html>
