
<script type="text/javascript" src="javascripts/frameworks/jquery-1.6.2.min.js"></script>
<script type="text/javascript" src="javascripts/frameworks/underscore-min.js"></script>
<script type="text/javascript" src="javascripts/frameworks/backbone-min.js"></script>
<script type="text/javascript" src="javascripts/namespace.js"></script>
<script type="text/javascript" src="javascripts/models/settings.js"></script>
<script type="text/javascript" src="javascripts/lib/helpers.js"></script>
<script type="text/javascript" src="javascripts/lib/context_menus.js"></script>
<script type="text/javascript" src="javascripts/lib/browser_actions.js"></script>
<script type="text/javascript" src="javascripts/lib/url_builder.js"></script>
<script type="text/javascript" src="javascripts/lib/backbone_hacks.js"></script>
<script type="text/javascript">
  var settings = new BH.Models.Settings();
  settings.fetch();

  var urlBuilder = new BH.Lib.UrlBuilder();

  selectionContextMenu = new BH.Lib.SelectionContextMenu(chrome, urlBuilder);
  if(settings.get('searchBySelection')) {
    selectionContextMenu.create();
  }

  pageContextMenu = new BH.Lib.PageContextMenu(chrome, urlBuilder);
  pageContextMenu.listenToTabs();
  if(settings.get('searchByDomain')) {
    pageContextMenu.create();
  }

  browserActions = new BH.Lib.BrowserActions(chrome, urlBuilder);
  browserActions.listen();
</script>

